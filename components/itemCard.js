import { Card, Carousel, Slider } from "antd";
import Link from "next/link";
import { LazyLoadImage } from "react-lazy-load-image-component";
import { useRef, useState } from "react";

export default function ItemCard({ uid,mediaHttpUrls, store }) {
  const [liked, setLiked] = useState(false);

  const goToStore = () => {
    console.log("go to store page");
  };

  const viewItem = () => {
    console.log("view item");
  };

  const like = () => {
    setLiked(!liked);
  };

  return (
    <Card
      className="card item-card"
      title={
        <a>
          <div className="card-title" onClick={goToStore}>
            <div className="store-thump">
              <LazyLoadImage className="round-image" src={store.logoHttpUrl} />
            </div>
            <div className="card-store-title">
              <h4>{store.name}</h4>
            </div>
          </div>
        </a>
      }
      cover={
        <Carousel className="item-carousel">
          {mediaHttpUrls.slice(0, 2).map((image, index) => (
            <div className="item-single-slide" key={index}>
              <LazyLoadImage effect="blur" className="filter" src={image} />
              <div className="item-image-overlay">
                <LazyLoadImage effect="blur" src={image} />
              </div>

              {mediaHttpUrls.slice(1, -1).length > 0 && (
                <div className="image-counter">
                  {"+" + mediaHttpUrls.slice(1, -1).length}
                </div>
              )}
            </div>
          ))}
        </Carousel>
      }
    >
      <div className="card-footer flex">
        <div className="item-card-desc">
          <Link href={`/item/${uid}`}>
            <a onClick={viewItem}>
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg" style={{marginRight: 10}}>
<path d="M10.8029 23.2222L10.801 23.2234C10.5617 23.3795 10.3762 23.4363 10.2144 23.4384C10.0536 23.4404 9.85699 23.3891 9.59424 23.2211C7.08096 21.6059 4.86074 19.5482 3.07541 17.1873L3.07406 17.1856C1.46385 15.0758 0.5 12.6043 0.5 9.95571C0.5 4.73896 4.87583 0.5 10.1921 0.5C15.5247 0.5 19.9 4.73945 19.9 9.95571C19.9 12.6042 18.935 15.0757 17.3258 17.1857C15.5239 19.5481 13.3025 21.6067 10.8029 23.2222ZM10.1921 6.41442C8.06541 6.41442 6.33307 8.15996 6.33307 10.2657C6.33307 12.3982 8.07792 14.0607 10.1921 14.0607C12.3046 14.0607 14.0669 12.401 14.0669 10.2657C14.0669 8.15704 12.3172 6.41442 10.1921 6.41442Z" fill="#FF0101" stroke="white"/>
</svg>

              <h4>{store.address}</h4>
            </a>
          </Link>
        </div>
        <a>
          <div onClick={like} className="like-button">
            {liked ? (
             <svg width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg">
             <path d="M12.0106 0.952792L12.0865 0.97768H12.1024L12.1349 1.00745L12.242 1.04062C12.5582 1.13856 12.839 1.24346 13.1006 1.38218L13.1184 1.3916L13.1369 1.39956L13.6897 1.63802C13.7674 1.67944 13.8624 1.74207 13.9705 1.81708C13.9898 1.83053 14.0106 1.84509 14.0322 1.86024C14.119 1.92101 14.2192 1.99125 14.2964 2.03666L14.2964 2.03671L14.3027 2.04028C14.332 2.05699 14.3601 2.07285 14.3871 2.08804C14.5152 2.16029 14.6168 2.21763 14.7027 2.28107L14.9994 2.50039L15.2964 2.28154C16.8768 1.11723 18.7952 0.486724 20.7714 0.500224H20.7748C21.6764 0.500224 22.5687 0.623101 23.4109 0.895559L23.4109 0.895579L23.4152 0.896946C28.6176 2.52759 30.5557 8.04546 28.9567 12.969C28.038 15.5088 26.5373 17.8277 24.5722 19.7231C21.703 22.4015 18.5544 24.7796 15.1647 26.8287L15.048 26.8967L14.9115 26.8152C11.5097 24.7805 8.34262 22.4023 5.44589 19.7089C3.49305 17.8124 1.99064 15.5069 1.05718 12.9667C-0.567715 8.04741 1.3665 2.52759 6.6319 0.866296L6.63192 0.866352L6.63919 0.863933C7.03323 0.732936 7.43932 0.640265 7.84674 0.587223H7.99494H8.02994L8.06459 0.582348C8.46194 0.526453 8.85712 0.500224 9.25493 0.500224H9.41251C10.3076 0.52714 11.1726 0.678014 12.0106 0.952792ZM22.9566 4.1007L22.9494 4.09807L22.9421 4.09566C22.0746 3.80802 21.1207 4.25652 20.8009 5.11964L20.8008 5.1196L20.7972 5.12994C20.494 6.00691 20.9741 6.94949 21.8534 7.25293C22.617 7.53018 23.1248 8.25516 23.1248 9.05184V9.07697C23.0916 9.53243 23.237 9.97545 23.5296 10.318C23.8376 10.6786 24.2812 10.8703 24.7189 10.9106L24.7483 10.9132L24.7777 10.9125C25.6343 10.8903 26.3834 10.2288 26.4484 9.349L26.4498 9.3306V9.31214V9.14543C26.4971 6.90198 25.0867 4.88017 22.9566 4.1007Z" fill="#FF0000" stroke="white"/>
             </svg>
             
            ) : (
              <svg width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0106 0.952792L12.0865 0.97768H12.1024L12.1349 1.00745L12.242 1.04062C12.5582 1.13856 12.839 1.24346 13.1006 1.38218L13.1184 1.3916L13.1369 1.39956L13.6897 1.63802C13.7674 1.67944 13.8624 1.74207 13.9705 1.81708C13.9898 1.83053 14.0106 1.84509 14.0322 1.86024C14.119 1.92101 14.2192 1.99125 14.2964 2.03666L14.2964 2.03671L14.3027 2.04028C14.332 2.05699 14.3601 2.07285 14.3871 2.08804C14.5152 2.16029 14.6168 2.21763 14.7027 2.28107L14.9994 2.50039L15.2964 2.28154C16.8768 1.11723 18.7952 0.486724 20.7714 0.500224H20.7748C21.6764 0.500224 22.5687 0.623101 23.4109 0.895559L23.4109 0.895579L23.4152 0.896946C28.6176 2.52759 30.5557 8.04546 28.9567 12.969C28.038 15.5088 26.5373 17.8277 24.5722 19.7231C21.703 22.4015 18.5544 24.7796 15.1647 26.8287L15.048 26.8967L14.9115 26.8152C11.5097 24.7805 8.34262 22.4023 5.44589 19.7089C3.49305 17.8124 1.99064 15.5069 1.05718 12.9667C-0.567715 8.04741 1.3665 2.52759 6.6319 0.866296L6.63192 0.866352L6.63919 0.863933C7.03323 0.732936 7.43932 0.640265 7.84674 0.587223H7.99494H8.02994L8.06459 0.582348C8.46194 0.526453 8.85712 0.500224 9.25493 0.500224H9.41251C10.3076 0.52714 11.1726 0.678014 12.0106 0.952792ZM22.9566 4.1007L22.9494 4.09807L22.9421 4.09566C22.0746 3.80802 21.1207 4.25652 20.8009 5.11964L20.8008 5.1196L20.7972 5.12994C20.494 6.00691 20.9741 6.94949 21.8534 7.25293C22.617 7.53018 23.1248 8.25516 23.1248 9.05184V9.07697C23.0916 9.53243 23.237 9.97545 23.5296 10.318C23.8376 10.6786 24.2812 10.8703 24.7189 10.9106L24.7483 10.9132L24.7777 10.9125C25.6343 10.8903 26.3834 10.2288 26.4484 9.349L26.4498 9.3306V9.31214V9.14543C26.4971 6.90198 25.0867 4.88017 22.9566 4.1007Z" fill="#fff" stroke="white"/>
</svg>

            )}
          </div>
        </a>
      </div>
    </Card>
  );
}
